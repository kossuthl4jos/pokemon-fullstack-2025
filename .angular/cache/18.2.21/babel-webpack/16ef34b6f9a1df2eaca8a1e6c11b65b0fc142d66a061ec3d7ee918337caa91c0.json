{"ast":null,"code":"// src/focusManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar FocusManager = class extends Subscribable {\n  #focused;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = onFocus => {\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus();\n        window.addEventListener(\"visibilitychange\", listener, false);\n        return () => {\n          window.removeEventListener(\"visibilitychange\", listener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup(focused => {\n      if (typeof focused === \"boolean\") {\n        this.setFocused(focused);\n      } else {\n        this.onFocus();\n      }\n    });\n  }\n  setFocused(focused) {\n    const changed = this.#focused !== focused;\n    if (changed) {\n      this.#focused = focused;\n      this.onFocus();\n    }\n  }\n  onFocus() {\n    const isFocused = this.isFocused();\n    this.listeners.forEach(listener => {\n      listener(isFocused);\n    });\n  }\n  isFocused() {\n    if (typeof this.#focused === \"boolean\") {\n      return this.#focused;\n    }\n    return globalThis.document?.visibilityState !== \"hidden\";\n  }\n};\nvar focusManager = new FocusManager();\nexport { FocusManager, focusManager };","map":{"version":3,"names":["Subscribable","isServer","FocusManager","focused","cleanup","setup","constructor","onFocus","window","addEventListener","listener","removeEventListener","onSubscribe","setEventListener","onUnsubscribe","hasListeners","setFocused","changed","isFocused","listeners","forEach","globalThis","document","visibilityState","focusManager"],"sources":["E:/Projects/pokemon-angular-2025/node_modules/@tanstack/query-core/build/modern/focusManager.js"],"sourcesContent":["// src/focusManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar FocusManager = class extends Subscribable {\n  #focused;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onFocus) => {\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus();\n        window.addEventListener(\"visibilitychange\", listener, false);\n        return () => {\n          window.removeEventListener(\"visibilitychange\", listener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup((focused) => {\n      if (typeof focused === \"boolean\") {\n        this.setFocused(focused);\n      } else {\n        this.onFocus();\n      }\n    });\n  }\n  setFocused(focused) {\n    const changed = this.#focused !== focused;\n    if (changed) {\n      this.#focused = focused;\n      this.onFocus();\n    }\n  }\n  onFocus() {\n    const isFocused = this.isFocused();\n    this.listeners.forEach((listener) => {\n      listener(isFocused);\n    });\n  }\n  isFocused() {\n    if (typeof this.#focused === \"boolean\") {\n      return this.#focused;\n    }\n    return globalThis.document?.visibilityState !== \"hidden\";\n  }\n};\nvar focusManager = new FocusManager();\nexport {\n  FocusManager,\n  focusManager\n};\n"],"mappings":"AAAA;AACA,SAASA,YAAY,QAAQ,mBAAmB;AAChD,SAASC,QAAQ,QAAQ,YAAY;AACrC,IAAIC,YAAY,GAAG,cAAcF,YAAY,CAAC;EAC5C,CAACG,OAAO;EACR,CAACC,OAAO;EACR,CAACC,KAAK;EACNC,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC;IACP,IAAI,CAAC,CAACD,KAAK,GAAIE,OAAO,IAAK;MACzB,IAAI,CAACN,QAAQ,IAAIO,MAAM,CAACC,gBAAgB,EAAE;QACxC,MAAMC,QAAQ,GAAGA,CAAA,KAAMH,OAAO,CAAC,CAAC;QAChCC,MAAM,CAACC,gBAAgB,CAAC,kBAAkB,EAAEC,QAAQ,EAAE,KAAK,CAAC;QAC5D,OAAO,MAAM;UACXF,MAAM,CAACG,mBAAmB,CAAC,kBAAkB,EAAED,QAAQ,CAAC;QAC1D,CAAC;MACH;MACA;IACF,CAAC;EACH;EACAE,WAAWA,CAAA,EAAG;IACZ,IAAI,CAAC,IAAI,CAAC,CAACR,OAAO,EAAE;MAClB,IAAI,CAACS,gBAAgB,CAAC,IAAI,CAAC,CAACR,KAAK,CAAC;IACpC;EACF;EACAS,aAAaA,CAAA,EAAG;IACd,IAAI,CAAC,IAAI,CAACC,YAAY,CAAC,CAAC,EAAE;MACxB,IAAI,CAAC,CAACX,OAAO,GAAG,CAAC;MACjB,IAAI,CAAC,CAACA,OAAO,GAAG,KAAK,CAAC;IACxB;EACF;EACAS,gBAAgBA,CAACR,KAAK,EAAE;IACtB,IAAI,CAAC,CAACA,KAAK,GAAGA,KAAK;IACnB,IAAI,CAAC,CAACD,OAAO,GAAG,CAAC;IACjB,IAAI,CAAC,CAACA,OAAO,GAAGC,KAAK,CAAEF,OAAO,IAAK;MACjC,IAAI,OAAOA,OAAO,KAAK,SAAS,EAAE;QAChC,IAAI,CAACa,UAAU,CAACb,OAAO,CAAC;MAC1B,CAAC,MAAM;QACL,IAAI,CAACI,OAAO,CAAC,CAAC;MAChB;IACF,CAAC,CAAC;EACJ;EACAS,UAAUA,CAACb,OAAO,EAAE;IAClB,MAAMc,OAAO,GAAG,IAAI,CAAC,CAACd,OAAO,KAAKA,OAAO;IACzC,IAAIc,OAAO,EAAE;MACX,IAAI,CAAC,CAACd,OAAO,GAAGA,OAAO;MACvB,IAAI,CAACI,OAAO,CAAC,CAAC;IAChB;EACF;EACAA,OAAOA,CAAA,EAAG;IACR,MAAMW,SAAS,GAAG,IAAI,CAACA,SAAS,CAAC,CAAC;IAClC,IAAI,CAACC,SAAS,CAACC,OAAO,CAAEV,QAAQ,IAAK;MACnCA,QAAQ,CAACQ,SAAS,CAAC;IACrB,CAAC,CAAC;EACJ;EACAA,SAASA,CAAA,EAAG;IACV,IAAI,OAAO,IAAI,CAAC,CAACf,OAAO,KAAK,SAAS,EAAE;MACtC,OAAO,IAAI,CAAC,CAACA,OAAO;IACtB;IACA,OAAOkB,UAAU,CAACC,QAAQ,EAAEC,eAAe,KAAK,QAAQ;EAC1D;AACF,CAAC;AACD,IAAIC,YAAY,GAAG,IAAItB,YAAY,CAAC,CAAC;AACrC,SACEA,YAAY,EACZsB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}