{"ast":null,"code":"// src/queriesObserver.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { QueryObserver } from \"./queryObserver.js\";\nimport { Subscribable } from \"./subscribable.js\";\nimport { replaceEqualDeep, shallowEqualObjects } from \"./utils.js\";\nfunction difference(array1, array2) {\n  const excludeSet = new Set(array2);\n  return array1.filter(x => !excludeSet.has(x));\n}\nfunction replaceAt(array, index, value) {\n  const copy = array.slice(0);\n  copy[index] = value;\n  return copy;\n}\nvar QueriesObserver = class extends Subscribable {\n  #client;\n  #result;\n  #queries;\n  #options;\n  #observers;\n  #combinedResult;\n  #lastCombine;\n  #lastResult;\n  #observerMatches = [];\n  constructor(client, queries, options) {\n    super();\n    this.#client = client;\n    this.#options = options;\n    this.#queries = [];\n    this.#observers = [];\n    this.#result = [];\n    this.setQueries(queries);\n  }\n  onSubscribe() {\n    if (this.listeners.size === 1) {\n      this.#observers.forEach(observer => {\n        observer.subscribe(result => {\n          this.#onUpdate(observer, result);\n        });\n      });\n    }\n  }\n  onUnsubscribe() {\n    if (!this.listeners.size) {\n      this.destroy();\n    }\n  }\n  destroy() {\n    this.listeners = /* @__PURE__ */new Set();\n    this.#observers.forEach(observer => {\n      observer.destroy();\n    });\n  }\n  setQueries(queries, options) {\n    this.#queries = queries;\n    this.#options = options;\n    if (process.env.NODE_ENV !== \"production\") {\n      const queryHashes = queries.map(query => this.#client.defaultQueryOptions(query).queryHash);\n      if (new Set(queryHashes).size !== queryHashes.length) {\n        console.warn(\"[QueriesObserver]: Duplicate Queries found. This might result in unexpected behavior.\");\n      }\n    }\n    notifyManager.batch(() => {\n      const prevObservers = this.#observers;\n      const newObserverMatches = this.#findMatchingObservers(this.#queries);\n      this.#observerMatches = newObserverMatches;\n      newObserverMatches.forEach(match => match.observer.setOptions(match.defaultedQueryOptions));\n      const newObservers = newObserverMatches.map(match => match.observer);\n      const newResult = newObservers.map(observer => observer.getCurrentResult());\n      const hasLengthChange = prevObservers.length !== newObservers.length;\n      const hasIndexChange = newObservers.some((observer, index) => observer !== prevObservers[index]);\n      const hasStructuralChange = hasLengthChange || hasIndexChange;\n      const hasResultChange = hasStructuralChange ? true : newResult.some((result, index) => {\n        const prev = this.#result[index];\n        return !prev || !shallowEqualObjects(result, prev);\n      });\n      if (!hasStructuralChange && !hasResultChange) return;\n      if (hasStructuralChange) {\n        this.#observers = newObservers;\n      }\n      this.#result = newResult;\n      if (!this.hasListeners()) return;\n      if (hasStructuralChange) {\n        difference(prevObservers, newObservers).forEach(observer => {\n          observer.destroy();\n        });\n        difference(newObservers, prevObservers).forEach(observer => {\n          observer.subscribe(result => {\n            this.#onUpdate(observer, result);\n          });\n        });\n      }\n      this.#notify();\n    });\n  }\n  getCurrentResult() {\n    return this.#result;\n  }\n  getQueries() {\n    return this.#observers.map(observer => observer.getCurrentQuery());\n  }\n  getObservers() {\n    return this.#observers;\n  }\n  getOptimisticResult(queries, combine) {\n    const matches = this.#findMatchingObservers(queries);\n    const result = matches.map(match => match.observer.getOptimisticResult(match.defaultedQueryOptions));\n    return [result, r => {\n      return this.#combineResult(r ?? result, combine);\n    }, () => {\n      return this.#trackResult(result, matches);\n    }];\n  }\n  #trackResult(result, matches) {\n    return matches.map((match, index) => {\n      const observerResult = result[index];\n      return !match.defaultedQueryOptions.notifyOnChangeProps ? match.observer.trackResult(observerResult, accessedProp => {\n        matches.forEach(m => {\n          m.observer.trackProp(accessedProp);\n        });\n      }) : observerResult;\n    });\n  }\n  #combineResult(input, combine) {\n    if (combine) {\n      if (!this.#combinedResult || this.#result !== this.#lastResult || combine !== this.#lastCombine) {\n        this.#lastCombine = combine;\n        this.#lastResult = this.#result;\n        this.#combinedResult = replaceEqualDeep(this.#combinedResult, combine(input));\n      }\n      return this.#combinedResult;\n    }\n    return input;\n  }\n  #findMatchingObservers(queries) {\n    const prevObserversMap = new Map(this.#observers.map(observer => [observer.options.queryHash, observer]));\n    const observers = [];\n    queries.forEach(options => {\n      const defaultedOptions = this.#client.defaultQueryOptions(options);\n      const match = prevObserversMap.get(defaultedOptions.queryHash);\n      if (match) {\n        observers.push({\n          defaultedQueryOptions: defaultedOptions,\n          observer: match\n        });\n      } else {\n        observers.push({\n          defaultedQueryOptions: defaultedOptions,\n          observer: new QueryObserver(this.#client, defaultedOptions)\n        });\n      }\n    });\n    return observers;\n  }\n  #onUpdate(observer, result) {\n    const index = this.#observers.indexOf(observer);\n    if (index !== -1) {\n      this.#result = replaceAt(this.#result, index, result);\n      this.#notify();\n    }\n  }\n  #notify() {\n    if (this.hasListeners()) {\n      const previousResult = this.#combinedResult;\n      const newTracked = this.#trackResult(this.#result, this.#observerMatches);\n      const newResult = this.#combineResult(newTracked, this.#options?.combine);\n      if (previousResult !== newResult) {\n        notifyManager.batch(() => {\n          this.listeners.forEach(listener => {\n            listener(this.#result);\n          });\n        });\n      }\n    }\n  }\n};\nexport { QueriesObserver };","map":{"version":3,"names":["notifyManager","QueryObserver","Subscribable","replaceEqualDeep","shallowEqualObjects","difference","array1","array2","excludeSet","Set","filter","x","has","replaceAt","array","index","value","copy","slice","QueriesObserver","client","result","queries","options","observers","combinedResult","lastCombine","lastResult","observerMatches","constructor","setQueries","onSubscribe","listeners","size","forEach","observer","subscribe","onUpdate","onUnsubscribe","destroy","process","env","NODE_ENV","queryHashes","map","query","defaultQueryOptions","queryHash","length","console","warn","batch","prevObservers","newObserverMatches","findMatchingObservers","match","setOptions","defaultedQueryOptions","newObservers","newResult","getCurrentResult","hasLengthChange","hasIndexChange","some","hasStructuralChange","hasResultChange","prev","hasListeners","notify","getQueries","getCurrentQuery","getObservers","getOptimisticResult","combine","matches","r","combineResult","trackResult","#trackResult","observerResult","notifyOnChangeProps","accessedProp","m","trackProp","#combineResult","input","#findMatchingObservers","prevObserversMap","Map","defaultedOptions","get","push","#onUpdate","indexOf","#notify","previousResult","newTracked","listener"],"sources":["E:/Projects/pokemon-angular-2025/node_modules/@tanstack/query-core/build/modern/queriesObserver.js"],"sourcesContent":["// src/queriesObserver.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { QueryObserver } from \"./queryObserver.js\";\nimport { Subscribable } from \"./subscribable.js\";\nimport { replaceEqualDeep, shallowEqualObjects } from \"./utils.js\";\nfunction difference(array1, array2) {\n  const excludeSet = new Set(array2);\n  return array1.filter((x) => !excludeSet.has(x));\n}\nfunction replaceAt(array, index, value) {\n  const copy = array.slice(0);\n  copy[index] = value;\n  return copy;\n}\nvar QueriesObserver = class extends Subscribable {\n  #client;\n  #result;\n  #queries;\n  #options;\n  #observers;\n  #combinedResult;\n  #lastCombine;\n  #lastResult;\n  #observerMatches = [];\n  constructor(client, queries, options) {\n    super();\n    this.#client = client;\n    this.#options = options;\n    this.#queries = [];\n    this.#observers = [];\n    this.#result = [];\n    this.setQueries(queries);\n  }\n  onSubscribe() {\n    if (this.listeners.size === 1) {\n      this.#observers.forEach((observer) => {\n        observer.subscribe((result) => {\n          this.#onUpdate(observer, result);\n        });\n      });\n    }\n  }\n  onUnsubscribe() {\n    if (!this.listeners.size) {\n      this.destroy();\n    }\n  }\n  destroy() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.#observers.forEach((observer) => {\n      observer.destroy();\n    });\n  }\n  setQueries(queries, options) {\n    this.#queries = queries;\n    this.#options = options;\n    if (process.env.NODE_ENV !== \"production\") {\n      const queryHashes = queries.map(\n        (query) => this.#client.defaultQueryOptions(query).queryHash\n      );\n      if (new Set(queryHashes).size !== queryHashes.length) {\n        console.warn(\n          \"[QueriesObserver]: Duplicate Queries found. This might result in unexpected behavior.\"\n        );\n      }\n    }\n    notifyManager.batch(() => {\n      const prevObservers = this.#observers;\n      const newObserverMatches = this.#findMatchingObservers(this.#queries);\n      this.#observerMatches = newObserverMatches;\n      newObserverMatches.forEach(\n        (match) => match.observer.setOptions(match.defaultedQueryOptions)\n      );\n      const newObservers = newObserverMatches.map((match) => match.observer);\n      const newResult = newObservers.map(\n        (observer) => observer.getCurrentResult()\n      );\n      const hasLengthChange = prevObservers.length !== newObservers.length;\n      const hasIndexChange = newObservers.some(\n        (observer, index) => observer !== prevObservers[index]\n      );\n      const hasStructuralChange = hasLengthChange || hasIndexChange;\n      const hasResultChange = hasStructuralChange ? true : newResult.some((result, index) => {\n        const prev = this.#result[index];\n        return !prev || !shallowEqualObjects(result, prev);\n      });\n      if (!hasStructuralChange && !hasResultChange) return;\n      if (hasStructuralChange) {\n        this.#observers = newObservers;\n      }\n      this.#result = newResult;\n      if (!this.hasListeners()) return;\n      if (hasStructuralChange) {\n        difference(prevObservers, newObservers).forEach((observer) => {\n          observer.destroy();\n        });\n        difference(newObservers, prevObservers).forEach((observer) => {\n          observer.subscribe((result) => {\n            this.#onUpdate(observer, result);\n          });\n        });\n      }\n      this.#notify();\n    });\n  }\n  getCurrentResult() {\n    return this.#result;\n  }\n  getQueries() {\n    return this.#observers.map((observer) => observer.getCurrentQuery());\n  }\n  getObservers() {\n    return this.#observers;\n  }\n  getOptimisticResult(queries, combine) {\n    const matches = this.#findMatchingObservers(queries);\n    const result = matches.map(\n      (match) => match.observer.getOptimisticResult(match.defaultedQueryOptions)\n    );\n    return [\n      result,\n      (r) => {\n        return this.#combineResult(r ?? result, combine);\n      },\n      () => {\n        return this.#trackResult(result, matches);\n      }\n    ];\n  }\n  #trackResult(result, matches) {\n    return matches.map((match, index) => {\n      const observerResult = result[index];\n      return !match.defaultedQueryOptions.notifyOnChangeProps ? match.observer.trackResult(observerResult, (accessedProp) => {\n        matches.forEach((m) => {\n          m.observer.trackProp(accessedProp);\n        });\n      }) : observerResult;\n    });\n  }\n  #combineResult(input, combine) {\n    if (combine) {\n      if (!this.#combinedResult || this.#result !== this.#lastResult || combine !== this.#lastCombine) {\n        this.#lastCombine = combine;\n        this.#lastResult = this.#result;\n        this.#combinedResult = replaceEqualDeep(\n          this.#combinedResult,\n          combine(input)\n        );\n      }\n      return this.#combinedResult;\n    }\n    return input;\n  }\n  #findMatchingObservers(queries) {\n    const prevObserversMap = new Map(\n      this.#observers.map((observer) => [observer.options.queryHash, observer])\n    );\n    const observers = [];\n    queries.forEach((options) => {\n      const defaultedOptions = this.#client.defaultQueryOptions(options);\n      const match = prevObserversMap.get(defaultedOptions.queryHash);\n      if (match) {\n        observers.push({\n          defaultedQueryOptions: defaultedOptions,\n          observer: match\n        });\n      } else {\n        observers.push({\n          defaultedQueryOptions: defaultedOptions,\n          observer: new QueryObserver(this.#client, defaultedOptions)\n        });\n      }\n    });\n    return observers;\n  }\n  #onUpdate(observer, result) {\n    const index = this.#observers.indexOf(observer);\n    if (index !== -1) {\n      this.#result = replaceAt(this.#result, index, result);\n      this.#notify();\n    }\n  }\n  #notify() {\n    if (this.hasListeners()) {\n      const previousResult = this.#combinedResult;\n      const newTracked = this.#trackResult(this.#result, this.#observerMatches);\n      const newResult = this.#combineResult(newTracked, this.#options?.combine);\n      if (previousResult !== newResult) {\n        notifyManager.batch(() => {\n          this.listeners.forEach((listener) => {\n            listener(this.#result);\n          });\n        });\n      }\n    }\n  }\n};\nexport {\n  QueriesObserver\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}