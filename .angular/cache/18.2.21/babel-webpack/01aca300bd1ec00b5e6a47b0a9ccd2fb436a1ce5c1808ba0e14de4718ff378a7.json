{"ast":null,"code":"import _asyncToGenerator from \"E:/Projects/pokemon-angular-2025/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options;\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n      const oldPages = context.state.data?.pages || [];\n      const oldPageParams = context.state.data?.pageParams || [];\n      let result = {\n        pages: [],\n        pageParams: []\n      };\n      let currentPage = 0;\n      const fetchFn = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* () {\n          let cancelled = false;\n          const addSignalProperty = object => {\n            Object.defineProperty(object, \"signal\", {\n              enumerable: true,\n              get: () => {\n                if (context.signal.aborted) {\n                  cancelled = true;\n                } else {\n                  context.signal.addEventListener(\"abort\", () => {\n                    cancelled = true;\n                  });\n                }\n                return context.signal;\n              }\n            });\n          };\n          const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n          const fetchPage = /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator(function* (data, param, previous) {\n              if (cancelled) {\n                return Promise.reject();\n              }\n              if (param == null && data.pages.length) {\n                return Promise.resolve(data);\n              }\n              const createQueryFnContext = () => {\n                const queryFnContext2 = {\n                  client: context.client,\n                  queryKey: context.queryKey,\n                  pageParam: param,\n                  direction: previous ? \"backward\" : \"forward\",\n                  meta: context.options.meta\n                };\n                addSignalProperty(queryFnContext2);\n                return queryFnContext2;\n              };\n              const queryFnContext = createQueryFnContext();\n              const page = yield queryFn(queryFnContext);\n              const {\n                maxPages\n              } = context.options;\n              const addTo = previous ? addToStart : addToEnd;\n              return {\n                pages: addTo(data.pages, page, maxPages),\n                pageParams: addTo(data.pageParams, param, maxPages)\n              };\n            });\n            return function fetchPage(_x, _x2, _x3) {\n              return _ref2.apply(this, arguments);\n            };\n          }();\n          if (direction && oldPages.length) {\n            const previous = direction === \"backward\";\n            const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n            const oldData = {\n              pages: oldPages,\n              pageParams: oldPageParams\n            };\n            const param = pageParamFn(options, oldData);\n            result = yield fetchPage(oldData, param, previous);\n          } else {\n            const remainingPages = pages ?? oldPages.length;\n            do {\n              const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n              if (currentPage > 0 && param == null) {\n                break;\n              }\n              result = yield fetchPage(result, param);\n              currentPage++;\n            } while (currentPage < remainingPages);\n          }\n          return result;\n        });\n        return function fetchFn() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(fetchFn, {\n            client: context.client,\n            queryKey: context.queryKey,\n            meta: context.options.meta,\n            signal: context.signal\n          }, query);\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, {\n  pages,\n  pageParams\n}) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(pages[lastIndex], pages, pageParams[lastIndex], pageParams) : void 0;\n}\nfunction getPreviousPageParam(options, {\n  pages,\n  pageParams\n}) {\n  return pages.length > 0 ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport { hasNextPage, hasPreviousPage, infiniteQueryBehavior };","map":{"version":3,"names":["addToEnd","addToStart","ensureQueryFn","infiniteQueryBehavior","pages","onFetch","context","query","options","direction","fetchOptions","meta","fetchMore","oldPages","state","data","oldPageParams","pageParams","result","currentPage","fetchFn","_ref","_asyncToGenerator","cancelled","addSignalProperty","object","Object","defineProperty","enumerable","get","signal","aborted","addEventListener","queryFn","fetchPage","_ref2","param","previous","Promise","reject","length","resolve","createQueryFnContext","queryFnContext2","client","queryKey","pageParam","queryFnContext","page","maxPages","addTo","_x","_x2","_x3","apply","arguments","pageParamFn","getPreviousPageParam","getNextPageParam","oldData","remainingPages","initialPageParam","persister","lastIndex","hasNextPage","hasPreviousPage"],"sources":["E:/Projects/pokemon-angular-2025/node_modules/@tanstack/query-core/build/modern/infiniteQueryBehavior.js"],"sourcesContent":["// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options;\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n      const oldPages = context.state.data?.pages || [];\n      const oldPageParams = context.state.data?.pageParams || [];\n      let result = { pages: [], pageParams: [] };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const createQueryFnContext = () => {\n            const queryFnContext2 = {\n              client: context.client,\n              queryKey: context.queryKey,\n              pageParam: param,\n              direction: previous ? \"backward\" : \"forward\",\n              meta: context.options.meta\n            };\n            addSignalProperty(queryFnContext2);\n            return queryFnContext2;\n          };\n          const queryFnContext = createQueryFnContext();\n          const page = await queryFn(queryFnContext);\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  ) : void 0;\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return pages.length > 0 ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}